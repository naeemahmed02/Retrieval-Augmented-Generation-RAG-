<aside class="w-20 md:w-64 bg-[#1F1F24] text-white flex flex-col justify-between h-screen">

  <!-- Logo -->
  <div class="flex items-center justify-center md:justify-start md:px-6 h-20 font-bold text-xl tracking-wide">
    Agent.<span class="text-cyan-400">ai</span>
  </div>

  <!-- Navigation -->
  <nav class="space-y-2 px-2 md:px-6">
    <a href="#" class="block py-2 px-3 rounded bg-[#27272A] text-white hover:bg-[#3F3F46]">Home</a>
    <a href="#" class="block py-2 px-3 rounded text-gray-300 hover:bg-[#3F3F46]">Projects</a>
  </nav>

  <!-- Upload & Chat Section -->
  <div class="mt-6 px-4 md:px-6">

    <form 
      action="{% url 'home' %}?{% if request.GET.selected_doc %}selected_doc={{ request.GET.selected_doc }}{% endif %}" 
      method="POST" 
      enctype="multipart/form-data"
    >
      {% csrf_token %}
      <input type="hidden" name="form_type" value="upload_form" />

      <label class="block text-sm text-white mb-1 font-medium">ðŸ“¤ Quick Upload</label>

      <div class="bg-[#27272A] p-4 rounded space-y-4">

        <!-- Document Name -->
        <div>
          <label for="id_first_name" class="block text-sm text-gray-300 mb-1">Doc Name</label>
          <input 
            type="text" 
            name="first_name" 
            id="id_first_name"
            class="w-full px-3 py-2 text-sm text-white bg-[#1E1E24] border border-gray-600 rounded focus:outline-none focus:ring-2 focus:ring-indigo-500"
            required
          >
          {% if form.first_name.errors %}
            <p class="text-red-400 text-xs mt-1">{{ form.first_name.errors.0 }}</p>
          {% endif %}
        </div>

        <!-- File Uploader -->
        <div>
          <label for="id_document" class="block text-sm text-gray-300 mb-1">Upload File</label>
          <input 
            type="file" 
            name="document" 
            id="id_document"
            accept=".pdf,.doc,.docx,.txt" 
            class="block w-full text-sm text-white bg-[#1E1E24] border border-gray-600 rounded px-3 py-2 
                   file:mr-4 file:py-1 file:px-4 file:rounded file:border-0 
                   file:text-sm file:font-medium file:bg-indigo-500 file:text-white 
                   hover:file:bg-indigo-600 focus:outline-none focus:ring-2 focus:ring-indigo-500"
            required
          >
          {% if form.document.errors %}
            <p class="text-red-400 text-xs mt-1">{{ form.document.errors.0 }}</p>
          {% endif %}
        </div>

        <!-- Upload Button -->
        <button 
          type="submit" 
          class="w-full py-2 bg-indigo-500 hover:bg-indigo-600 text-white rounded text-sm font-semibold shadow"
        >
          Upload
        </button>
      </div>
    </form>

    <!-- New Chat Button -->
    <a href="{% url 'new_chat' %}" 
       class="block mt-4 mb-1 text-center py-2 bg-cyan-500 hover:bg-cyan-600 rounded text-white text-sm font-semibold shadow">
      + New Chat
    </a>

  </div>

  <!-- Footer -->
  <div class="px-4 md:px-6 pb-6 mt-auto">
    <div class="flex items-center gap-3 bg-[#27272A] p-3 rounded">
      <img src="https://via.placeholder.com/32" alt="User" class="rounded-full w-8 h-8">
      <div class="hidden md:block">
        <p class="text-sm font-semibold">Naeem Ahmed</p>
        <p class="text-xs text-gray-400">naeemahmed02@gmail.com</p>
      </div>
    </div>

    <div class="flex justify-between mt-3 text-xs text-gray-400">
      <button>Log out</button>
      <div class="flex gap-2">
        <button>Light</button>
        <button class="text-white font-bold">â€¢</button>
        <button>Dark</button>
      </div>
    </div>
  </div>
</aside>
