<aside class="w-64 bg-white border-l border-gray-200 p-4 hidden lg:flex flex-col h-screen">
  <!-- Chats -->
  <div class="mb-4">
    <h2 class="text-xl font-bold mb-3">Chats</h2>

    <!-- Search -->
    <div class="relative mb-3">
      <input
        type="text"
        placeholder="Search chats..."
        class="w-full px-4 py-2 pl-10 text-sm border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
      />
      <svg class="absolute left-3 top-2.5 h-4 w-4 text-gray-400" fill="currentColor" viewBox="0 0 20 20">
        <path
          fill-rule="evenodd"
          d="M12.9 14.32a8 8 0 111.414-1.414l4.387 4.387a1 1 0 01-1.414 1.414l-4.387-4.387zM10 16a6 6 0 100-12 6 6 0 000 12z"
          clip-rule="evenodd"
        />
      </svg>
    </div>

    <!-- Chat List -->
    <ul class="space-y-3 max-h-64 overflow-y-auto pr-2">
      {% for session in all_session %}
      <li class="p-3 rounded hover:bg-gray-100 cursor-pointer bg-gray-50">
        <h4 class="font-medium text-sm">{{ session.title }}</h4>
        <p class="text-xs text-gray-500 truncate">‚ÄúLet‚Äôs use FAISS instead of PGVector‚Ä¶‚Äù</p>
        <span class="text-[10px] text-gray-400 block mt-1">Aug 2, 11:45 AM</span>
      </li>
      {% endfor %}
    </ul>
  </div>

  <!-- Document Upload & Selector -->
  <div class="mt-auto border-t pt-4">
    <h2 class="text-lg font-semibold mb-2 text-gray-800">üìö File Collection</h2>

    <form method="GET" class="mb-3">
      <select class="w-full text-sm px-3 py-2 border rounded" name="selected_doc" required>
        <option disabled {% if not request.GET.selected_doc %}selected{% endif %}>Select Document</option>
        {% for doc in all_documents %}
          <option value="{{ doc.id }}" {% if request.GET.selected_doc == doc.id|stringformat:"s" %}selected{% endif %}>
            {{ doc.name }}
          </option>
        {% endfor %}
      </select>
      <button type="submit" class="mt-2 w-full text-sm py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded">Use Document</button>
    </form>
  </div>
</aside>
